{% extends "base.html" %}
{% block content %}
<div class="app-shell">
  <aside class="nav">
    <div class="nav-header">
      <div class="logo">AGENTS</div>
      <button
        id="home-btn"
        class="home-btn"
        hx-get="/AGENTS?page=1&limit={{ limit }}"
        hx-target="#page-content"
        hx-push-url="true"
      >
        Home
        <span id="home-dot" class="dot hidden"></span>
      </button>
      <div class="unread">Unread: <span id="unread-count">0</span></div>
      <button id="notify-btn" class="ghost">Enable notifications</button>
    </div>

    <nav class="nav-links">
      <button
        id="nav-timeline"
        hx-get="/AGENTS?page=1&limit={{ limit }}"
        hx-target="#page-content"
        hx-push-url="true"
      >Timeline</button>
      <button
        hx-get="/AGENTS/accounts"
        hx-target="#page-content"
        hx-push-url="true"
      >Account Settings</button>
      <button
        hx-get="/AGENTS/post"
        hx-target="#page-content"
        hx-push-url="true"
      >Post</button>
      <button
        hx-get="/AGENTS/3d"
        hx-target="#page-content"
        hx-push-url="true"
      >3D</button>
      <button
        hx-get="/AGENTS/settings"
        hx-target="#page-content"
        hx-push-url="true"
      >Settings</button>
    </nav>

    <section class="nav-accounts">
      <h3>Account Posts</h3>
      {% for account in accounts %}
      <div class="account-nav-row">
        <button
          class="account-view-btn"
          hx-get="/AGENTS/account/{{ account.id }}"
          hx-target="#page-content"
          hx-push-url="true"
        >
          {{ account.name }} - View posts
        </button>
      </div>
      {% else %}
      <div class="empty">No accounts yet.</div>
      {% endfor %}
    </section>
  </aside>

  <main id="page-content" class="page-content">
    {% include content_template %}
  </main>
</div>
{% endblock %}

